@model VeloTours.Models.SegmentViewModel
@using VeloTours.Models;

@{
    int segmentID = @Model.Segment.SegmentID;
    int athleteID = ViewBag.Athlete;

    bool hasLeaderBoard = (@Model.LeaderBoard != null && @Model.LeaderBoard.Count > 0);
}

<h2>@Model.Info.Name</h2>
<p>@Model.Segment.Info.Description</p>
@*PictureUrl*@

@if (hasLeaderBoard) 
{
    <h3>Yersey</h3>
    @RenderPage("~/Views/Segment/YerseyPart.cshtml", @Model)

    <h3>Athlete's Info</h3>
    @RenderPage("~/Views/Segment/AthleteInfoPart.cshtml", @Model)
    <p>@Model.ImprovementHint</p>

    <h3>LeaderBoard</h3>
    @RenderPage("~/Views/Segment/LeaderboardPart.cshtml", @Model);
}

<p>
    Go back to area: 
    @foreach (var segmentArea in @Model.SegmentAreas)
    {
        @Html.ActionLink(segmentArea.Info.Name, "Index", "Area", routeValues: new { area = segmentArea.SegmentAreaID, athlete = athleteID }, htmlAttributes: null)
    }    
</p>

<h3>Admin</h3>
<p>
    @Html.ActionLink("Update from Strava", "Update", routeValues: new { athlete = @athleteID,segment = @segmentID, effort = false, }, htmlAttributes: null)<br />
    @Html.ActionLink("Update from Strava w/efforts", "Update", routeValues: new { athlete = athleteID, segment = @segmentID, effort = true, }, htmlAttributes: null)<br />
</p>
